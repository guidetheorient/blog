(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{133:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_3-5-远程分支"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-远程分支","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.5 远程分支")]),t._v(" "),n("p",[n("code",[t._v("git clone")]),t._v(" 时远程仓库的默认名称为origin，并拉取它的全部数据，然后会在本地常见指向服务器上master分支的指针，并命名为origin/master，如下图：远程分支也相当于一个指针")]),t._v(" "),n("p",[n("img",{attrs:{src:s(85),alt:""}})]),t._v(" "),n("p",[t._v("多个远程分支")]),t._v(" "),n("p",[n("img",{attrs:{src:s(86),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"跟踪远程分支"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#跟踪远程分支","aria-hidden":"true"}},[t._v("#")]),t._v(" 跟踪远程分支")]),t._v(" "),n("p",[t._v("基于远程分支创建的本地分支会自动成为跟踪分支(tracking branch or upstream branch(上游分支))，即直接运行"),n("code",[t._v("git push")]),t._v(" 或 "),n("code",[t._v("git pull")]),t._v("，git知道操作哪个远程分支")]),t._v(" "),n("p",[t._v("克隆仓库创建的本地分支也是跟踪分支")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建新分支作为某个远程分支的跟踪分支")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建-当执行分支切换操作时，没有-b并且有对应的远程分支时，git会自动帮你创建一个跟踪分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout serverfix\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建-如果远程分支和本地分支同名，以下两种效果一致")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout --track origin/serverfix\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b serverfix origin/serverfix\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建-checkout -b 可以命名不一样的分支名称")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b sf origin/serverfix\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置(修改)已有分支跟踪的远程分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -u === -set-upstream-to")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当前分支追踪远程的serverfix分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -u origin/serverfix\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看本地分支及其跟踪的远程分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -vv\n")])])]),n("h2",{attrs:{id:"拉取"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#拉取","aria-hidden":"true"}},[t._v("#")]),t._v(" 拉取")]),t._v(" "),n("p",[t._v("git fetch origin获取到远程新增的分支后，git并不会自动提供给你该分支的本地副本，可通过checkout创建或者merge合并到本地分支或者rebase……")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# fetch只拉取，不操作")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pull若本地有跟踪分支，帮你合并")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch + "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# merge到当前分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge origin/serverfix\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建远程分支对应的本地分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b serverfix origin/serverfix\n")])])]),n("h2",{attrs:{id:"推送"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#推送","aria-hidden":"true"}},[t._v("#")]),t._v(" 推送")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将本地的branch推送到remote同名branch分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("remote"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("branch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本地的localBranch推动到远程的remoteBranch分支(branch名不同)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin localBranch:remoteBranch\n")])])]),n("h2",{attrs:{id:"增删远程分支"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#增删远程分支","aria-hidden":"true"}},[t._v("#")]),t._v(" 增删远程分支")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新增远程分支")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote add dev "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("git url"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除远程分支origin/serverfix（一段时间内，误删可恢复）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin --delete serverfix\n")])])]),n("h2",{attrs:{id:"bash实例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#bash实例","aria-hidden":"true"}},[t._v("#")]),t._v(" bash实例")]),t._v(" "),n("h3",{attrs:{id:"设置-修改-已有分支跟踪的远程分支"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置-修改-已有分支跟踪的远程分支","aria-hidden":"true"}},[t._v("#")]),t._v(" 设置(修改)已有分支跟踪的远程分支")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本地分支dev track 远程的origin仓库的upgrade-dev")]),t._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -u origin/upgrade-dev\nBranch dev "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" up to track remote branch upgrade-dev from origin.\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意：此对比为最近一次与远程交互时的对比，并非实时对比")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ahead commit未同步到远程")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# behind commit未同步至本地")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# master分支与远端是同步的")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# test1 分支追踪远程的origin/upgrade-dev分支")]),t._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -vv\n* test1            a5056952 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("origin/upgrade-dev: ahead 3, behind 1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" fix sth\n  test2            cb0482e3 fix sth\n  test3            32e9a5ef "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("origin/upgrade-dev: behind 138"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" fix sth\n  test4            dee7308d fix sth\n  master           d99edcfd "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("origin/master"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" fix sth\n\n")])])]),n("h3",{attrs:{id:"创建新分支跟踪远程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建新分支跟踪远程","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建新分支跟踪远程")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以下命令行没有先后顺序关系，只用来说明两者等价")]),t._v("\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout --track origin/angular-dev\nSwitched to a new branch "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'angular-dev'")]),t._v("\nBranch angular-dev "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" up to track remote branch angular-dev from origin.\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b angular-dev origin/angular-dev\nSwitched to a new branch "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'angular-dev'")]),t._v("\nBranch angular-dev "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" up to track remote branch angular-dev from origin.\n")])])])])},[],!1,null,null,null);a.default=e.exports},85:function(t,a,s){t.exports=s.p+"assets/img/2018-10-11-14-28-17.4f746f17.png"},86:function(t,a,s){t.exports=s.p+"assets/img/2018-10-11-14-30-09.c6f48ea3.png"}}]);