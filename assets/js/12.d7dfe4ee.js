(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{154:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_19-02-26-post请求的content-type"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_19-02-26-post请求的content-type","aria-hidden":"true"}},[t._v("#")]),t._v(" 19-02-26 post请求的content-type")]),t._v(" "),n("blockquote",[n("p",[t._v("参考"),n("br"),t._v("\n1."),n("a",{attrs:{href:"https://imququ.com/post/four-ways-to-post-data-in-http.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("四种常见的 POST 提交数据方式 - Jerry Qu"),n("OutboundLink")],1),t._v(" 🏃再看一遍？"),n("br"),t._v("\n2."),n("a",{attrs:{href:"https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4",target:"_blank",rel:"noopener noreferrer"}},[t._v("Form content types"),n("OutboundLink")],1),n("br"),t._v("\n3."),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST",target:"_blank",rel:"noopener noreferrer"}},[t._v("POST - MDN"),n("OutboundLink")],1),n("br"),t._v("\n4."),n("a",{attrs:{href:"https://www.kancloud.cn/yunye/axios/234845",target:"_blank",rel:"noopener noreferrer"}},[t._v("axios 中文说明"),n("OutboundLink")],1),n("br"),t._v("\n5."),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send",target:"_blank",rel:"noopener noreferrer"}},[t._v("XMLHttpRequest.send() - MDN"),n("OutboundLink")],1),n("br"),t._v("\n6."),n("a",{attrs:{href:"https://javarevisited.blogspot.com/2017/06/difference-between-applicationx-www-form-urlencoded-vs-multipart-form-data.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Difference between application/x-www-form-urlencoded and multipart/form-data in HTTP/HTML?"),n("OutboundLink")],1)])]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#疑问"}},[t._v("疑问")])]),n("li",[n("a",{attrs:{href:"#content-type类型"}},[t._v("content-type类型")]),n("ul",[n("li",[n("a",{attrs:{href:"#属性值"}},[t._v("属性值")])]),n("li",[n("a",{attrs:{href:"#相关问题"}},[t._v("相关问题")])])])]),n("li",[n("a",{attrs:{href:"#axios和jquery默认请求方式区别"}},[t._v("axios和jQuery默认请求方式区别")]),n("ul",[n("li",[n("a",{attrs:{href:"#原生ajax"}},[t._v("原生AJAX")])]),n("li",[n("a",{attrs:{href:"#axios"}},[t._v("axios")])]),n("li",[n("a",{attrs:{href:"#jquery"}},[t._v("jQuery")])])])]),n("li",[n("a",{attrs:{href:"#todo"}},[t._v("TODO")])])])]),n("p"),t._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("TODO")]),t._v(" "),n("p",[t._v("nodejs或java中实测一下，不过现在还不会😆")])]),t._v(" "),n("h2",{attrs:{id:"疑问"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#疑问","aria-hidden":"true"}},[t._v("#")]),t._v(" 疑问")]),t._v(" "),n("ol",[n("li",[t._v("为什么post(x-www-form-urlencoded)请求的参数最终也转换成键值对的形式。难道这是get请求，还是后台接口同时支持get和的post两种方法")]),t._v(" "),n("li",[t._v("跨域options")]),t._v(" "),n("li",[t._v("axios是不是只要data是对象，就stringify")])]),t._v(" "),n("h2",{attrs:{id:"content-type类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#content-type类型","aria-hidden":"true"}},[t._v("#")]),t._v(" content-type类型")]),t._v(" "),n("p",[t._v("HTTP协议规定POST请求提交的数据必须放在请求主体里，但没有规定格式")]),t._v(" "),n("h3",{attrs:{id:"属性值"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#属性值","aria-hidden":"true"}},[t._v("#")]),t._v(" 属性值")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("get请求没有content-type项")])]),t._v(" "),n("li",[n("p",[t._v("原生form表单支持通过设置enctype来设置一下三种格式：")]),t._v(" "),n("ul",[n("li",[t._v("application/x-www-form-urlencoded(默认)")]),t._v(" "),n("li",[t._v("multipart/form-data(文件)")]),t._v(" "),n("li",[t._v("text/plain(不常用)")])])]),t._v(" "),n("li",[n("p",[t._v("ajax请求中除了使用上述几种外，还经常使用：")]),t._v(" "),n("ul",[n("li",[t._v("application/json")])])])]),t._v(" "),n("h3",{attrs:{id:"相关问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 相关问题")]),t._v(" "),n("p",[n("strong",[t._v("1.get和post application/x-www-form-urlencoded的区别？")])]),t._v(" "),n("p",[t._v("问题缘由：")]),t._v(" "),n("ol",[n("li",[t._v("后台使用java spring，所以一直很奇怪所有接口都可以使用get和post吗？那干脆就全使用get(当然除了上传或是复杂数据)")]),t._v(" "),n("li",[t._v("这还让我一度怀疑get === post application/x-www-form-urlencoded？大雾😭")])]),t._v(" "),n("p",[t._v("结论：")]),t._v(" "),n("ol",[n("li",[t._v("从以下请求可以看出get参数确实是url后面键值对的形式，x-www-form-urlencoded同样是键值对形式，不过是将其放在请求实体中")]),t._v(" "),n("li",[t._v("这种键值对也基本就相当于字符串(get的location.search)")]),t._v(" "),n("li",[t._v("还需要注意的是这两种格式无法直接传输复杂数据层次的对象(当然单独将value stringify其实也可以，不过不如直接使用application/json)")])]),t._v(" "),n("div",{staticClass:"language-http extra-class"},[n("pre",{pre:!0,attrs:{class:"language-http"}},[n("code",[n("span",{pre:!0,attrs:{class:"token request-line"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("GET")]),t._v(" /hb2/rest/alarm/get.do?alarmId=123928&b=2 HTTP/1.1")]),t._v("\n")])])]),n("div",{staticClass:"language-http extra-class"},[n("pre",{pre:!0,attrs:{class:"language-http"}},[n("code",[n("span",{pre:!0,attrs:{class:"token request-line"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("POST")]),t._v(" /hb2/rest/alarm/get.do HTTP/1.1")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Type:")]),t._v(" application/x-www-form-urlencoded\nalarmId=123928&b=2\n")])])]),n("p",[n("strong",[t._v("2. post application/x-www-form-urlencoded 和 application/json？")]),n("br"),t._v("\njson格式可以传输比键值对更复杂的结构化数据（项目刚开始还没文档时，axios默认传的就是json，后台并没有对应解析逻辑，这时会问题）")]),t._v(" "),n("h2",{attrs:{id:"axios和jquery默认请求方式区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#axios和jquery默认请求方式区别","aria-hidden":"true"}},[t._v("#")]),t._v(" axios和jQuery默认请求方式区别")]),t._v(" "),n("p",[t._v("axios默认将对象类型的data进行json.stringify。即使声明了"),n("code",[t._v("application/x-www-form-urlencoded")]),t._v("也不会将data变成键值对的形式，需要自行转换，比如使用"),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams",target:"_blank",rel:"noopener noreferrer"}},[t._v("URLSearchParams"),n("OutboundLink")],1),t._v("或者querystring模块")]),t._v(" "),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("axios文档关于data的说明")]),t._v(" "),n("p",[n("code",[t._v("data")]),t._v(" 是作为请求主体被发送的数据"),n("br"),t._v("\n只适用于这些请求方法 'PUT', 'POST', 和 'PATCH'"),n("br"),t._v("\n在没有设置 "),n("code",[t._v("transformRequest")]),t._v(" 时，必须是以下类型之一：")]),t._v(" "),n("ul",[n("li",[t._v("string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams")]),t._v(" "),n("li",[t._v("浏览器专属：FormData, File, Blob")]),t._v(" "),n("li",[t._v("Node 专属： Stream")])])]),t._v(" "),n("h3",{attrs:{id:"原生ajax"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#原生ajax","aria-hidden":"true"}},[t._v("#")]),t._v(" 原生AJAX")]),t._v(" "),n("ul",[n("li",[t._v("send支持的格式\n"),n("img",{attrs:{src:s(65),alt:""}})])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 原生XMLHttpRequest作对比")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xhr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nxhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("304")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("xhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("responseText"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xhr'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nxhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/alarm/get.do'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nxhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setRequestHeader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 参见XMLHttpRequest.send - MDN https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send")]),t._v("\nxhr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alarmId=123928'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"axios"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#axios","aria-hidden":"true"}},[t._v("#")]),t._v(" axios")]),t._v(" "),n("p",[t._v("默认content-type: 'application/json'，data也会自动转换为json字符串")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认，只声明content-type为x-www-form-urlencoded是不起作用的，要同时将data处理成键值对字符串(如果不转换，相当于axios帮你stringify，然后一个string只能当form data的key，然后value为空，反正就是双拼两不像)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/alarm/get.do'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  headers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    alarmId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("123928")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解决方式1 - 使用URLSearchParams API(不兼容IE)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndata"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'alarmId'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("123928")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ~~~")]),t._v("\n  headers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ~~~")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解决方式2 - 使用node模块querystring")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// data value支持<string> | <number> | <boolean> | <string[]> | <number[]> | <boolean[]>。 任何其他输入值都将被强制转换为空字符串")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" qs "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'querystring'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ~~~")]),t._v("\n  headers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/x-www-form-urlencoded'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" qs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    alarmId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("123928")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ~~~")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"jquery"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jquery","aria-hidden":"true"}},[t._v("#")]),t._v(" jQuery")]),t._v(" "),n("p",[t._v("默认content-type: 'application/x-www-form-urlencoded'，data会转换为是键值对string")]),t._v(" "),n("p",[t._v("jQuery application/x-www-form-urlencoded\n"),n("img",{attrs:{src:s(66),alt:""}})]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ajax")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/alarm/get.do'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// contentType: 'application/x-www-form-urlencoded',")]),t._v("\n  data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    alarmId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("123928")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("jQuery applcation/json需要data必须是json字符串，content-type也要设置正确")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ajax")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/alarm/get.do'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  contentType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    alarmId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("123928")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"todo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#todo","aria-hidden":"true"}},[t._v("#")]),t._v(" TODO")]),t._v(" "),n("ol",[n("li",[t._v("跨域请求哪些会先发送options请求")]),t._v(" "),n("li",[t._v("跨域")])])])},[],!1,null,null,null);a.default=e.exports},65:function(t,a,s){t.exports=s.p+"assets/img/2019-02-26-14-40-39.bfc9324e.png"},66:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAokAAABICAMAAACtIp8rAAAAyVBMVEX///9hYWFzc3MiIiLv7+/d3d3Ly8vO//+GIiJiq+qpqan//87OhyJherOzemEih84iIob//+aXl5fqq2Lm//+FhYWGy///y4bmsnq6uroiImKp5////+oiYalhYXqpYSKz5v96YWHq//+Uzf//5rP/56lhYZRxcnJiIiLMlmF6suZhlsz/zZT8/PzY2NiUYWH//8zhzI3r6+t4eHjM/+aRkZHO/+rq/86p586Gy85ih87m/8zFxcXm5rOzzbOfn5+pq4apYYZiImK2CCqaAAAEn0lEQVR42uyY3WrcMBCF5UFyQZBCRQWrm9BlS4KzcZImzVX/3v+tOqMTr9Y0NLs0JWs4H0lsHc346mNsxRFCCCGEEEIIIYQQQgghhBBCyGuSsnslgnhHFsqH951x/skdwOd1V9nM4+HsI00kb2FiZ+q1J9jyJKCJS2IMN0/cH+cRTLxy7u6267Y0kfwjY5HLykM/8wjT8eKdc6vu/Of64qtu/FjrsLRBuNkz0VTU2A2dstUMQ3KFizuYIpAnxKRXLyLROSnT61pToxenO6lWKt4Sb9eMFfqUpDc0cVGMj5eG/BqbidBLMcWqU2Zi5XINQfdMtIqNNhrbycShO1JFLz2EM+eCLaTAv6pYLjARC42TXmO2xGpyVJf91Ad7g9DERXHzYCJm3yYhTFIJVauteba1DQ1s96qKNzPx2lJjUEfhcmVlzziYVK3rq305Vuvsx4WUe+chlQYBk9MWliLxCFpfLS80cVGMUdTE7+PMxG+3qh/Ugk8QrN5fP2PiBlNUt1GIJ1l+ML3gN6YqFj7z9CaWGF2fWxGE1SIlPCXZ/ra+mPiduEB8Fnkc5+eNO5i4mptY13+aOGhgHjYT4eFRJmIexicTgXepuBz6XDfmJmbd9TARKkpofTHSxCXSP+R796yJw4smolarLFxNJuKFjcJDMdsk7GYiKMlnFc9nBM1Eu5lMBFHCro8zcZmMqYwzE5X2nfiSiThMD7pdvyWrvSgcjjMxSD+dknPZZTbeUhEHegnwsWSsmonWNPWhPtLEpXHv3dxE+IVT8l9NBFdOd/bP2mdfsEThoUguMBHC+Wh65d7ESjsTRTek1EOLl8lEXywNrc8aep6dF8z8/4l2/7KJ0xDttlaqlRatoONRJmKGxQTjBCupk7G0mShSV8UKdiaKEvb79JL4dib/C/OOkBOAJpLTgCaS04AmEkIIIYQQQgghhBBCCPndnt20Ng4DYRz3Moc4RJCAwIakphAI9LqXfTvt7vf/UJ3R4zAVpC2lvbT8f4fI1UjO5WHk1AAAAAAAAAAAfD2zme2Ht9iN2wH4eHf3ryXx8mDueMokdtttWkdrV1Vr16spS2vuD5sBeHsSpeSaPon1+Nem64qqBK4XZTkPsxezNLdpooiPT+K8nCNsWcqLy//T0OKYJb+L4ghInpNKorISZ2iMU43abvw92lRsm0n00VzMpC6JWhb3WBNX25eopFhWeiLS5U9EcDlnEu/+bXSGeiKXs0/uxuOpfNtGcJRE7fD6s0m8PLSSIqckzrFdpfg4bGbjBw866k5KYkZpUvfyLP300Z/pMok6WFsSZ2takpVEBbWtrWZat4+PmFKpDcbZjE4x1yVR6ZquPS/G6G1Pk1g9ei/0xKIrdUAd94fvsV2lmN57TvcDcFW8NWVPVKDa8fmOJBbLgnZpi0r6pnU9IMpEJlF/vJ5Erbl9OlcFMQOom0xZijvGfpIIlz8pap7Oegb0kLx0OiuEvuZGT1RP7ed0HD8tFf6fiI6e4ZZ4hqsWWkJ8+DXeSmK+Y5nNDj/ut9191Bz9QovaCxWlV3t8TX4H71gAAAAAAAAAAAAAAAAAAPi0HgFxFGkR2eTTDQAAAABJRU5ErkJggg=="}}]);