<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>19-02-22 vue-cli2升级至webpack4.x | guidetheorient&#39;s blog</title>
    <meta name="description" content="guidetheorients blog">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.27863952.css" as="style"><link rel="preload" href="/blog/assets/js/app.07784aa4.js" as="script"><link rel="preload" href="/blog/assets/js/2.c1200efd.js" as="script"><link rel="preload" href="/blog/assets/js/6.e3b4f500.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3a7b220f.js"><link rel="prefetch" href="/blog/assets/js/11.3e73d5a8.js"><link rel="prefetch" href="/blog/assets/js/12.d7dfe4ee.js"><link rel="prefetch" href="/blog/assets/js/13.dad9285b.js"><link rel="prefetch" href="/blog/assets/js/14.bb3ef809.js"><link rel="prefetch" href="/blog/assets/js/15.26aead84.js"><link rel="prefetch" href="/blog/assets/js/16.abdcc1ca.js"><link rel="prefetch" href="/blog/assets/js/17.8c2b56b4.js"><link rel="prefetch" href="/blog/assets/js/18.2f996232.js"><link rel="prefetch" href="/blog/assets/js/19.57a27d8e.js"><link rel="prefetch" href="/blog/assets/js/20.d350c752.js"><link rel="prefetch" href="/blog/assets/js/21.4601c4a8.js"><link rel="prefetch" href="/blog/assets/js/22.b4ceb77d.js"><link rel="prefetch" href="/blog/assets/js/23.b0a3c965.js"><link rel="prefetch" href="/blog/assets/js/24.61ff9cb3.js"><link rel="prefetch" href="/blog/assets/js/25.27cc9eae.js"><link rel="prefetch" href="/blog/assets/js/26.e7e9edc1.js"><link rel="prefetch" href="/blog/assets/js/27.c899df60.js"><link rel="prefetch" href="/blog/assets/js/28.b2b385cc.js"><link rel="prefetch" href="/blog/assets/js/29.f02fe8e6.js"><link rel="prefetch" href="/blog/assets/js/3.e024d095.js"><link rel="prefetch" href="/blog/assets/js/30.6be7fb62.js"><link rel="prefetch" href="/blog/assets/js/31.a185d491.js"><link rel="prefetch" href="/blog/assets/js/32.e66e9655.js"><link rel="prefetch" href="/blog/assets/js/33.ce2b576f.js"><link rel="prefetch" href="/blog/assets/js/34.1a39b0e8.js"><link rel="prefetch" href="/blog/assets/js/35.ae12a9aa.js"><link rel="prefetch" href="/blog/assets/js/36.e949c413.js"><link rel="prefetch" href="/blog/assets/js/37.370df086.js"><link rel="prefetch" href="/blog/assets/js/38.b8209320.js"><link rel="prefetch" href="/blog/assets/js/39.a710c350.js"><link rel="prefetch" href="/blog/assets/js/4.e0c6271b.js"><link rel="prefetch" href="/blog/assets/js/40.3d443225.js"><link rel="prefetch" href="/blog/assets/js/41.13a31490.js"><link rel="prefetch" href="/blog/assets/js/42.9212c90b.js"><link rel="prefetch" href="/blog/assets/js/43.fe269efc.js"><link rel="prefetch" href="/blog/assets/js/44.72495e31.js"><link rel="prefetch" href="/blog/assets/js/45.0e0075bc.js"><link rel="prefetch" href="/blog/assets/js/46.41b4a3b1.js"><link rel="prefetch" href="/blog/assets/js/47.9fe3c288.js"><link rel="prefetch" href="/blog/assets/js/48.8a35d4da.js"><link rel="prefetch" href="/blog/assets/js/49.34e75339.js"><link rel="prefetch" href="/blog/assets/js/5.eaff2270.js"><link rel="prefetch" href="/blog/assets/js/50.3c3599ad.js"><link rel="prefetch" href="/blog/assets/js/51.dcf810cf.js"><link rel="prefetch" href="/blog/assets/js/52.7686693f.js"><link rel="prefetch" href="/blog/assets/js/53.5d121b7b.js"><link rel="prefetch" href="/blog/assets/js/54.8e67ae1d.js"><link rel="prefetch" href="/blog/assets/js/55.52b11df8.js"><link rel="prefetch" href="/blog/assets/js/56.35cb1f97.js"><link rel="prefetch" href="/blog/assets/js/57.a5ce68db.js"><link rel="prefetch" href="/blog/assets/js/58.1578629a.js"><link rel="prefetch" href="/blog/assets/js/59.5fa52b94.js"><link rel="prefetch" href="/blog/assets/js/60.3b56f664.js"><link rel="prefetch" href="/blog/assets/js/61.dcd6bc74.js"><link rel="prefetch" href="/blog/assets/js/62.a5c3be46.js"><link rel="prefetch" href="/blog/assets/js/63.0260a90d.js"><link rel="prefetch" href="/blog/assets/js/64.2d91dc0a.js"><link rel="prefetch" href="/blog/assets/js/65.aa6cb1f4.js"><link rel="prefetch" href="/blog/assets/js/66.917856d3.js"><link rel="prefetch" href="/blog/assets/js/67.9a3747eb.js"><link rel="prefetch" href="/blog/assets/js/68.fea047fa.js"><link rel="prefetch" href="/blog/assets/js/69.939a3137.js"><link rel="prefetch" href="/blog/assets/js/7.b6791622.js"><link rel="prefetch" href="/blog/assets/js/70.f827108e.js"><link rel="prefetch" href="/blog/assets/js/71.e5fc8632.js"><link rel="prefetch" href="/blog/assets/js/72.5bc34333.js"><link rel="prefetch" href="/blog/assets/js/73.7cd68ac8.js"><link rel="prefetch" href="/blog/assets/js/74.791c31cd.js"><link rel="prefetch" href="/blog/assets/js/75.62ad0f0c.js"><link rel="prefetch" href="/blog/assets/js/76.9768b570.js"><link rel="prefetch" href="/blog/assets/js/77.3c42697a.js"><link rel="prefetch" href="/blog/assets/js/78.8c955780.js"><link rel="prefetch" href="/blog/assets/js/79.2f810987.js"><link rel="prefetch" href="/blog/assets/js/8.1e06d97d.js"><link rel="prefetch" href="/blog/assets/js/80.90f0b386.js"><link rel="prefetch" href="/blog/assets/js/81.5b1df5fd.js"><link rel="prefetch" href="/blog/assets/js/9.06767110.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.27863952.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">guidetheorient's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://github.com/guidetheorient/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://github.com/guidetheorient/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github 
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计划</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>blog</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/" class="sidebar-link">Introduction</a></li><li><a href="/blog/blog/blog选题.html" class="sidebar-link">博客选题</a></li><li><a href="/blog/blog/职业生涯.html" class="sidebar-link">职业生涯</a></li><li><a href="/blog/blog/2018-12-20 学习资源.html" class="sidebar-link">学习资源整理</a></li><li><a href="/blog/blog/2018-12-19 git撤销操作总结.html" class="sidebar-link">18-12-19 git撤销操作总结</a></li><li><a href="/blog/blog/2018-12-19 Vue使用小结.html" class="sidebar-link">18-12-19 Vue使用小结</a></li><li><a href="/blog/blog/2018-12-19 开发小结.html" class="sidebar-link">18-12-19 开发小结</a></li><li><a href="/blog/blog/2019-02-22 vue-cli2升级到webpack4.x.html" class="active sidebar-link">19-02-22 vue-cli2升级至webpack4.x</a></li><li><a href="/blog/blog/2019-02-25 webpack splitchunks试验.html" class="sidebar-link">19-02-25 webpack splitchunks试验</a></li><li><a href="/blog/blog/2019-02-26 post请求的content-type.html" class="sidebar-link">19-02-26 post请求的content-type</a></li><li><a href="/blog/blog/2019-02-27 vue插件编写小结.html" class="sidebar-link">19-02-27 vue插件编写小结</a></li><li><a href="/blog/blog/2019-02-28 了解FLIP动画.html" class="sidebar-link">19-02-28 了解FLIP动画</a></li><li><a href="/blog/blog/2019-03-06 eslint配置指南.html" class="sidebar-link">19-03-06 eslint配置指南</a></li><li><a href="/blog/blog/2019-04-07 requestAnimationFrame.html" class="sidebar-link">19-04-07 requestAnimationFrame</a></li><li><a href="/blog/blog/你不知道的Chrome调试技巧.html" class="sidebar-link">你不知道的Chrome调试技巧</a></li><li><a href="/blog/blog/如何使用Canvas制作出炫酷的网页背景特效.html" class="sidebar-link">如何使用Canvas制作出炫酷的网页背景特效</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>资源整理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ECMAScript 6 入门</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript高级程序设计</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pro Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS世界</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript设计模式与开发实践</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>图解HTTP</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="_19-02-22-vue-cli2升级至webpack4-x"><a href="#_19-02-22-vue-cli2升级至webpack4-x" aria-hidden="true" class="header-anchor">#</a> 19-02-22 vue-cli2升级至webpack4.x</h1> <blockquote><p>参考<br>
1.<a href="https://github.com/webpack/webpack/releases/tag/v4.0.0-beta.00" target="_blank" rel="noopener noreferrer">webpack v4.0.0-beta.0 release notes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
2.<a href="https://medium.com/webpack/webpack-4-released-today-6cdb994702d4" target="_blank" rel="noopener noreferrer">webpack 4: released today!! - Sean T. Larkin - medium<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
3.<a href="https://gist.github.com/sokra/1522d586b8e5c0f5072d7565c2bee693" target="_blank" rel="noopener noreferrer">RIP CommonsChunkPlugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#webpack-4与本文相关的changes">webpack 4与本文相关的changes</a></li><li><a href="#webpack-3-x-4-x">webpack 3.x -&gt; 4.x</a></li><li><a href="#问题">问题</a></li></ul></div><p></p> <p>webpack在2018年2月正式进入4.x版本，速度的提升是它的一大亮点。现在已经是2019年2月了，webpack5.x即将发布，我还是麻溜点用起来。
本文只涉及vue-cli2中webpack的升级，具体配置请参考<a href="https://webpack.js.org" target="_blank" rel="noopener noreferrer">webpack文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <ol><li>升级之后当天测试不管是build还是dev速度都是变慢的？但第二天测试发现速度又变快了？？</li> <li>webpack文档依旧很不好，旧版新版内容混杂在一起，很不利于学习，比如CommonsChunkPlugin还没删除</li></ol></div> <h2 id="webpack-4与本文相关的changes"><a href="#webpack-4与本文相关的changes" aria-hidden="true" class="header-anchor">#</a> webpack 4与本文相关的changes</h2> <ol><li>添加mode(production, development, none)。development默认开启错误提示，提升重新编译的速度；production默认开启各种优化压缩（如uglifyJs, splitChunks）</li> <li>构建后文件的优化如压缩,chunk拆分等配置移入optimization.*对应选项中</li> <li>删除CommonsChunkPlugin，增加optimization.splitChunks配置</li> <li>新的插件系统导致基本所有plugin都要更新版本</li></ol> <h2 id="webpack-3-x-4-x"><a href="#webpack-3-x-4-x" aria-hidden="true" class="header-anchor">#</a> webpack 3.x -&gt; 4.x</h2> <ol><li>升级devDependencies</li></ol> <div class="language-git extra-class"><pre class="language-git"><code><span class="token string">&quot;devDependencies&quot;</span>: {
<span class="token deleted">-    &quot;autoprefixer&quot;: &quot;^7.1.2&quot;,</span>
<span class="token inserted">+    &quot;autoprefixer&quot;: &quot;^9.4.7&quot;,</span>
<span class="token deleted">-    &quot;extract-text-webpack-plugin&quot;: &quot;^3.0.0&quot;,</span>
<span class="token deleted">-    &quot;html-webpack-plugin&quot;: &quot;^2.30.1&quot;,</span>
<span class="token inserted">+    &quot;html-webpack-plugin&quot;: &quot;^3.2.0&quot;,</span>
<span class="token inserted">+    &quot;mini-css-extract-plugin&quot;: &quot;^0.5.0&quot;,</span>
<span class="token deleted">-    &quot;optimize-css-assets-webpack-plugin&quot;: &quot;^3.2.0&quot;,</span>
<span class="token inserted">+    &quot;optimize-css-assets-webpack-plugin&quot;: &quot;^5.0.1&quot;,</span>
<span class="token deleted">-    &quot;uglifyjs-webpack-plugin&quot;: &quot;^1.1.1&quot;,</span>
<span class="token deleted">-    &quot;url-loader&quot;: &quot;^0.5.8&quot;,</span>
<span class="token deleted">-    &quot;vue-loader&quot;: &quot;^13.3.0&quot;,</span>
<span class="token deleted">-    &quot;vue-style-loader&quot;: &quot;^3.0.1&quot;,</span>
<span class="token inserted">+    &quot;uglifyjs-webpack-plugin&quot;: &quot;^1.3.0&quot;,</span>
<span class="token inserted">+    &quot;url-loader&quot;: &quot;^1.1.2&quot;,</span>
<span class="token inserted">+    &quot;vue-loader&quot;: &quot;^14.2.2&quot;,</span>
<span class="token inserted">+    &quot;vue-style-loader&quot;: &quot;^4.1.2&quot;,</span>
<span class="token deleted">-    &quot;webpack&quot;: &quot;^3.6.0&quot;,</span>
<span class="token deleted">-    &quot;webpack-bundle-analyzer&quot;: &quot;^2.9.0&quot;,</span>
<span class="token deleted">-    &quot;webpack-dev-server&quot;: &quot;^2.9.1&quot;,</span>
<span class="token deleted">-    &quot;webpack-merge&quot;: &quot;^4.1.0&quot;</span>
<span class="token inserted">+    &quot;webpack&quot;: &quot;4.28.4&quot;,</span>
<span class="token inserted">+    &quot;webpack-bundle-analyzer&quot;: &quot;^3.0.4&quot;,</span>
<span class="token inserted">+    &quot;webpack-cli&quot;: &quot;^3.2.3&quot;,</span>
<span class="token inserted">+    &quot;webpack-dev-server&quot;: &quot;^3.1.14&quot;,</span>
<span class="token inserted">+    &quot;webpack-merge&quot;: &quot;^4.1.4&quot;</span>
},
</code></pre></div><p>2.修改配置</p> <p>webpack4新增<a href="https://webpack.js.org/concepts/mode/" target="_blank" rel="noopener noreferrer">mode<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，有几个默认选项development, production(默认), none(去除默认配置)，在其中加入了一些预设配置，所以可以删除3.x中一些需要手动配置的插件</p> <p>production模式也会自动开启SplitChunksPlugin，如果我们以前使用CommonsChunkPlugin添加了一些分拆大的库的配置，那么现在我们可以完全不配置optimization.splitChunks了，SplitChunksPlugin会默认自动分拆大于30kb的包</p> <p>webpack.base.conf.js</p> <div class="language-git extra-class"><pre class="language-git"><code>module.exports = {
<span class="token inserted">+  mode: process.env.NODE_ENV === 'production' ? 'production' : 'development',</span>
}
</code></pre></div><p>webpack.dev.conf.js</p> <div class="language-git extra-class"><pre class="language-git"><code>plugins: [
   // development默认开启
<span class="token deleted">-  new webpack.NamedModulesPlugin(), // HMR shows correct file names in console on update.</span>
   new webpack.NoEmitOnErrorsPlugin(),
   new HtmlWebpackPlugin({
    // 见问题2
<span class="token inserted">+    chunksSortMode: 'none'</span>
   }),
]
</code></pre></div><p>webpack.prod.conf.js</p> <ul><li>删除CommonsChunkPlugin的所有配置，在optimization中新增splitChunks和runtimeChunk</li> <li>将压缩插件移入optimization.minimizer</li> <li>ExtractTextPlugin替换为MiniCssExtractPlugin(官方推荐，非必须，ExtractTextPlugin@next也可以使用)(不过暂时还没找到方法像ExtractTextPlugin将.vue文件的css打包在一起的方法，现在是每个路由组件会打包出一个.css，不好)</li></ul> <div class="language-git extra-class"><pre class="language-git"><code><span class="token deleted">- const ExtractTextPlugin = require('extract-text-webpack-plugin')</span>
<span class="token inserted">+ const MiniCssExtractPlugin = require('mini-css-extract-plugin')</span>

  const webpackConfig = merge(baseWebpackConfig, {
    // 非必要
<span class="token inserted">+   performance: {</span>
<span class="token inserted">+     hints: false</span>
<span class="token inserted">+   },</span>
    plugins: [
<span class="token deleted">-     // extract css into its own file</span>
<span class="token deleted">-     new ExtractTextPlugin({</span>
<span class="token deleted">-       filename: utils.assetsPath('css/[name].[contenthash].css'),</span>
<span class="token deleted">-       // Setting the following option to `false` will not extract CSS from codesplit chunks.</span>
<span class="token deleted">-       // Their CSS will instead be inserted dynamically with style-loader when the codesplit chunk has been loaded by webpack.</span>
<span class="token deleted">-       // It's currently set to `true` because we are seeing that sourcemaps are included in the codesplit bundle as well when it's `false`, </span>
<span class="token deleted">-       // increasing file size: https://github.com/vuejs-templates/webpack/issues/1110</span>
<span class="token deleted">-       allChunks: true,</span>
<span class="token deleted">-     }),</span>
<span class="token inserted">+     new MiniCssExtractPlugin({</span>
<span class="token inserted">+       filename: utils.assetsPath('css/[name].css'),</span>
<span class="token inserted">+       chunkFilename: utils.assetsPath('css/[name].[contenthash].css')</span>
<span class="token inserted">+     }),</span>
      new HtmlWebpackPlugin({
        // 见问题2
<span class="token inserted">+       chunksSortMode: 'none',</span>
      }),
      // production默认开启
<span class="token deleted">-     new webpack.optimize.ModuleConcatenationPlugin(),</span>
      // 从原来的plugins选项移入optimization.minimizer
<span class="token deleted">-     new OptimizeCSSPlugin({</span>
<span class="token deleted">-       cssProcessorOptions: config.build.productionSourceMap</span>
<span class="token deleted">-         ? { safe: true, map: { inline: false } }</span>
<span class="token deleted">-         : { safe: true }</span>
<span class="token deleted">-     }),</span>
      // 从原来的plugins选项移入optimization.minimizer
<span class="token deleted">-     new UglifyJsPlugin({</span>
<span class="token deleted">-       uglifyOptions: {</span>
<span class="token deleted">-         compress: {</span>
<span class="token deleted">-           warnings: false,</span>
<span class="token deleted">-           drop_console: true,</span>
<span class="token deleted">-           collapse_vars: true,</span>
<span class="token deleted">-           reduce_vars: true,</span>
<span class="token deleted">-         },</span>
<span class="token deleted">-         output: {</span>
<span class="token deleted">-           beautify: false,</span>
<span class="token deleted">-           comments: false,</span>
<span class="token deleted">-         }</span>
<span class="token deleted">-       },</span>
<span class="token deleted">-       sourceMap: config.build.productionSourceMap,</span>
<span class="token deleted">-       parallel: true,</span>
<span class="token deleted">-       cache: true</span>
<span class="token deleted">-     }),</span>
      // 删除以下CommonsChunkPlugin的配置
<span class="token deleted">-     new webpack.optimize.CommonsChunkPlugin({</span>
<span class="token deleted">-       name: 'vendor',</span>
<span class="token deleted">-       minChunks (module) {</span>
<span class="token deleted">-         // any required modules inside node_modules are extracted to vendor</span>
<span class="token deleted">-         return (</span>
<span class="token deleted">-           module.resource &amp;&amp;</span>
<span class="token deleted">-           /\.js$/.test(module.resource) &amp;&amp;</span>
<span class="token deleted">-           module.resource.indexOf(</span>
<span class="token deleted">-             path.join(__dirname, '../node_modules')</span>
<span class="token deleted">-           ) === 0</span>
<span class="token deleted">-         )</span>
<span class="token deleted">-       }</span>
<span class="token deleted">-     }),</span>
<span class="token deleted">-     // extract webpack runtime and module manifest to its own file in order to</span>
<span class="token deleted">-     // prevent vendor hash from being updated whenever app bundle is updated</span>
<span class="token deleted">-     new webpack.optimize.CommonsChunkPlugin({</span>
<span class="token deleted">-       name: 'manifest',</span>
<span class="token deleted">-       minChunks: Infinity</span>
<span class="token deleted">-     }),</span>
<span class="token deleted">-     // This instance extracts shared chunks from code splitted chunks and bundles them</span>
<span class="token deleted">-     // in a separate chunk, similar to the vendor chunk</span>
<span class="token deleted">-     // see: https://webpack.js.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk</span>
<span class="token deleted">-     new webpack.optimize.CommonsChunkPlugin({</span>
<span class="token deleted">-       name: 'app',</span>
<span class="token deleted">-       async: 'vendor-async',</span>
<span class="token deleted">-       children: true,</span>
<span class="token deleted">-       minChunks: function(module, count) { </span>
<span class="token deleted">-         return module.resource &amp;&amp; !(/echarts|zrender|xlsx|file-saver/.test(module.resource)) &amp;&amp; count &gt;= 2</span>
<span class="token deleted">-       }</span>
<span class="token deleted">-       // minChunks: 2</span>
<span class="token deleted">-     }),</span>
<span class="token deleted">-     new webpack.optimize.CommonsChunkPlugin({</span>
<span class="token deleted">-       name: 'app',</span>
<span class="token deleted">-       async: 'echarts',</span>
<span class="token deleted">-       children: true,</span>
<span class="token deleted">-       minChunks: function(module, count) {</span>
<span class="token deleted">-         return module.resource &amp;&amp; /echarts|zrender/.test(module.resource) &amp;&amp; count &gt;= 2</span>
<span class="token deleted">-       }</span>
<span class="token deleted">-     }),</span>
<span class="token deleted">-     new webpack.optimize.CommonsChunkPlugin({</span>
<span class="token deleted">-       name: 'app',</span>
<span class="token deleted">-       async: 'xlsx',</span>
<span class="token deleted">-       children: true,</span>
<span class="token deleted">-       minChunks: function(module, count) {</span>
<span class="token deleted">-         return module.resource &amp;&amp; /xlsx|file-saver/.test(module.resource) &amp;&amp; count &gt;= 2</span>
<span class="token deleted">-       }</span>
<span class="token deleted">-     }),</span>
    ],
<span class="token inserted">+   optimization: {</span>
<span class="token inserted">+     runtimeChunk: {</span>
<span class="token inserted">+       name: 'wcare-manifest'</span>
<span class="token inserted">+     },</span>
<span class="token inserted">+     splitChunks: {</span>
<span class="token inserted">+</span>
<span class="token inserted">+     },</span>
<span class="token inserted">+     minimizer: [</span>
<span class="token inserted">+       new UglifyJsPlugin({</span>
<span class="token inserted">+         uglifyOptions: {</span>
<span class="token inserted">+           compress: {</span>
<span class="token inserted">+             warnings: false,</span>
<span class="token inserted">+             drop_console: true,</span>
<span class="token inserted">+             collapse_vars: true,</span>
<span class="token inserted">+             reduce_vars: true,</span>
<span class="token inserted">+           },</span>
<span class="token inserted">+           output: {</span>
<span class="token inserted">+             beautify: false,</span>
<span class="token inserted">+             comments: false,</span>
<span class="token inserted">+           }</span>
<span class="token inserted">+         },</span>
<span class="token inserted">+         sourceMap: config.build.productionSourceMap,</span>
<span class="token inserted">+         parallel: true,</span>
<span class="token inserted">+         cache: true</span>
<span class="token inserted">+       }),</span>
<span class="token inserted">+       new OptimizeCSSPlugin({</span>
<span class="token inserted">+         cssProcessorOptions: config.build.productionSourceMap</span>
<span class="token inserted">+           ? { safe: true, map: { inline: false } }</span>
<span class="token inserted">+           : { safe: true }</span>
<span class="token inserted">+       }),</span>
<span class="token inserted">+     ],</span>
<span class="token inserted">+   }</span>
  }

</code></pre></div><h2 id="问题"><a href="#问题" aria-hidden="true" class="header-anchor">#</a> 问题</h2> <p>遇到的问题基本都能在webpack或者触发问题的库的issues中找到解决方案</p> <ol><li><p><a href="https://github.com/webpack/webpack/issues/8656" target="_blank" rel="noopener noreferrer">dynamic import fails<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
解决：webpack从4.29.x降级到4.28.4
<img src="data:image/png;base64,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" alt=""></p></li> <li><p><a href="https://github.com/jantimon/html-webpack-plugin/issues/870" target="_blank" rel="noopener noreferrer">HtmlWebpackPlugin引用的toposort库抛错<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
解决：HtmlWebpackPlugin的配置中修改chunksSortMode: 'none'
<img src="/blog/assets/img/2019-02-20-11-30-59.d6e4da11.png" alt=""></p></li> <li><p>其他问题<br>
解决：删除node_modules，package-lock.json，重新安装
<img src="/blog/assets/img/2019-02-22-11-35-21.c4f338d1.png" alt=""></p></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/25/2019, 3:01:10 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/blog/2018-12-19 开发小结.html" class="prev">
          18-12-19 开发小结
        </a></span> <span class="next"><a href="/blog/blog/2019-02-25 webpack splitchunks试验.html">
          19-02-25 webpack splitchunks试验
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.07784aa4.js" defer></script><script src="/blog/assets/js/2.c1200efd.js" defer></script><script src="/blog/assets/js/6.e3b4f500.js" defer></script>
  </body>
</html>
